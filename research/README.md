# Результаты исследования Mongo vs Postgres

## Результат замеров
### Количество данных

- **user:** 100,000  
- **movie:** 100,000  
- **rating:** 1,000,000  
- **favorite:** 1,000,000  
- **review:** 1,000,000  
- **review_likes:** 1,000,000  

### Время выполнения операций

#### MongoDB

- **Вставка данных:**
  - **users:** 1.3924514000027557 сек.
  - **movies:** 1.626521899997897 сек.
  - **ratings:** 17.515082199985045 сек.
  - **favorites:** 25.4780762000737 сек.
  - **reviews:** 20.641057599990745 сек.
  - **review_likes:** 25.823797300021397 сек.

- **Сценарии:**
  - **«список закладок»:**
    - Общее время (100 итераций): 0.20478240001102677 сек.
    - Среднее время на один запрос: 0.002047824000110268 сек.
  - **«средняя оценка фильма»:**
    - Общее время (100 итераций): 22.11084460001439 сек.
    - Среднее время на один запрос: 0.2211084460001439 сек.

#### Postgres

- **Вставка данных:**
  - **ratings:** 44.074841499939794 сек.
  - **favorites:** 43.95783019997907 сек.
  - **reviews:** 48.098373599976185 сек.
  - **review_likes:** 46.986080000016955 сек.
  - **Общее время отправки данных во все таблицы:** 183.117125299912 сек.

- **Сценарии:**
  - **«список закладок»:**
    - Общее время: 0.06851909998658812 сек.
    - Среднее время на один запрос: 0.0006851909998658812 сек.
  - **«средняя оценка фильма»:**
    - Общее время: 2.2792772999819135 сек.
    - Среднее время на один запрос: 0.022792772999819137 сек.


## Основные выводы

- **Скорость записи:**  
  MongoDB значительно быстрее вставляет большие объёмы данных, что критично для систем с интенсивными операциями записи.

- **Гибкость и масштабируемость:**  
  MongoDB предоставляет возможность гибкого изменения схемы данных и горизонтального масштабирования, что удобно при динамично изменяющихся требованиях проекта.

## Почему выбран MongoDB

- **Адаптивная модель данных:**  
  Гибкая схема MongoDB позволяет оперативно реагировать на изменения требований без необходимости сложных миграций.

- **Эффективное масштабирование:**  
  Возможность горизонтального масштабирования MongoDB обеспечивает устойчивость системы при росте объёмов данных.

- **Операций записи:**  
  В сценарии, где обработка миллионов записей является ключевой задачей, преимущества MongoDB в скорости вставки перевешивают более высокую производительность чтения Postgres.


# Инструкция по настройке окружения

## 1. Файл окружения
В папке `research` создайте `.env` файл по примеру `.env.example`:

## 2. Запуск баз данных
В корне проекта запустите:

    make up

## 3. Проверка исследования
Запустите скрипт с проверкой исследования `./src/main.py` на локальной машине
